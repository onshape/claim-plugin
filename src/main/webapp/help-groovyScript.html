<div>
<p>Groovy script to run when claims are changed. The variable <code>action</code> is bound to the
hudson.plugins.claim.ClaimBuildAction instance for the claim.</p>
<p>Here is an example that sends messages to the configured Slack channel.</p>
<pre>
def build = action.owner
def notifier = build.project.publishers.find { k, v -&gt; v.class.name == 'jenkins.plugins.slack.SlackNotifier' }.value
def slackServiceClass = notifier.class.classLoader.loadClass('jenkins.plugins.slack.StandardSlackService')
def slackService = slackServiceClass.newInstance(notifier.teamDomain, notifier.authToken, notifier.room)
if (action.claimed) {
  def sticky = action.isSticky() ? ', sticky' : ''
  def assignedBy = (action.assignedBy == action.claimedBy) ? '' : ", assigned by ${action.assignedBy}"
  slackService.publish("${action.claimedBy} claimed: ${build}${sticky}${assignedBy} ${build.absoluteUrl}\n ${action.reason}", 'good')
} else {
    slackService.publish("claim dropped for: ${build} ${build.absoluteUrl}", 'good')
}
</pre>
</div>
